pipeline {
	agent any
	
	stages {
		stage ('CLEANING STAGE') {
			steps {
				echo "******************************"
				echo "REMOVING OBJECT AND EXE FILES"
				echo "******************************"
				sh 'make clean'
			}
		}
		stage ('BUILD') {
			steps {
				echo "*****************************"
				echo "CREATING EXE FILES"
				echo "*****************************"
				sh './build.sh'
				sh 'pwd'
				sh 'ls'
			}
		}
		stage ('DEPLOY') {
			steps {
				echo "*****************************"
				echo "DEPLOYING FILES"
				echo "*****************************"
				sh 'pwd'
				sh 'cp abc.exe /home/ubuntu/dev/'
			}
		}

	}
}
